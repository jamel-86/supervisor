export const id=4960;export const ids=[4960];export const modules={64960:(a,i,e)=>{e.a(a,(async(a,s)=>{try{e.r(i);var t=e(62659),o=(e(58068),e(29805),e(98597)),l=e(196),r=e(77664),n=(e(12261),e(99233),e(95439)),h=e(61327),d=(e(93487),e(55932)),c=(e(42398),e(7339)),u=e(14126),_=a([h,d,c]);[h,d,c]=_.then?(await _)():_;const p={round:!1,type:"image/jpeg",quality:.75,aspectRatio:1.78};let m=(0,t.A)(null,(function(a,i){return{F:class extends i{constructor(...i){super(...i),a(this)}},d:[{kind:"field",decorators:[(0,l.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,l.wk)()],key:"_name",value:void 0},{kind:"field",decorators:[(0,l.wk)()],key:"_aliases",value:void 0},{kind:"field",decorators:[(0,l.wk)()],key:"_labels",value:void 0},{kind:"field",decorators:[(0,l.wk)()],key:"_picture",value:void 0},{kind:"field",decorators:[(0,l.wk)()],key:"_icon",value:void 0},{kind:"field",decorators:[(0,l.wk)()],key:"_floor",value:void 0},{kind:"field",decorators:[(0,l.wk)()],key:"_error",value:void 0},{kind:"field",decorators:[(0,l.wk)()],key:"_params",value:void 0},{kind:"field",decorators:[(0,l.wk)()],key:"_submitting",value:void 0},{kind:"method",key:"showDialog",value:async function(a){var i,e,s;this._params=a,this._error=void 0,this._name=this._params.entry?this._params.entry.name:this._params.suggestedName||"",this._aliases=this._params.entry?this._params.entry.aliases:[],this._labels=this._params.entry?this._params.entry.labels:[],this._picture=(null===(i=this._params.entry)||void 0===i?void 0:i.picture)||null,this._icon=(null===(e=this._params.entry)||void 0===e?void 0:e.icon)||null,this._floor=(null===(s=this._params.entry)||void 0===s?void 0:s.floor_id)||null,await this.updateComplete}},{kind:"method",key:"closeDialog",value:function(){this._error="",this._params=void 0,(0,r.r)(this,"dialog-closed",{dialog:this.localName})}},{kind:"method",key:"render",value:function(){if(!this._params)return o.s6;const a=this._params.entry,i=!this._isNameValid();return o.qy` <ha-dialog open @closed="${this.closeDialog}" .heading="${(0,n.l)(this.hass,a?this.hass.localize("ui.panel.config.areas.editor.update_area"):this.hass.localize("ui.panel.config.areas.editor.create_area"))}"> <div> ${this._error?o.qy`<ha-alert alert-type="error">${this._error}</ha-alert>`:""} <div class="form"> ${a?o.qy` <ha-settings-row> <span slot="heading"> ${this.hass.localize("ui.panel.config.areas.editor.area_id")} </span> <span slot="description"> ${a.area_id} </span> </ha-settings-row> `:o.s6} <ha-textfield .value="${this._name}" @input="${this._nameChanged}" .label="${this.hass.localize("ui.panel.config.areas.editor.name")}" .validationMessage="${this.hass.localize("ui.panel.config.areas.editor.name_required")}" required dialogInitialFocus></ha-textfield> <ha-icon-picker .hass="${this.hass}" .value="${this._icon}" @value-changed="${this._iconChanged}" .label="${this.hass.localize("ui.panel.config.areas.editor.icon")}"></ha-icon-picker> <ha-floor-picker .hass="${this.hass}" .value="${this._floor}" @value-changed="${this._floorChanged}" .label="${this.hass.localize("ui.panel.config.areas.editor.floor")}"></ha-floor-picker> <ha-labels-picker .hass="${this.hass}" .value="${this._labels}" @value-changed="${this._labelsChanged}"></ha-labels-picker> <ha-picture-upload .hass="${this.hass}" .value="${this._picture}" crop .cropOptions="${p}" @change="${this._pictureChanged}"></ha-picture-upload> <h3 class="header"> ${this.hass.localize("ui.panel.config.areas.editor.aliases_section")} </h3> <p class="description"> ${this.hass.localize("ui.panel.config.areas.editor.aliases_description")} </p> <ha-aliases-editor .hass="${this.hass}" .aliases="${this._aliases}" @value-changed="${this._aliasesChanged}"></ha-aliases-editor> </div> </div> <mwc-button slot="secondaryAction" @click="${this.closeDialog}"> ${this.hass.localize("ui.common.cancel")} </mwc-button> <mwc-button slot="primaryAction" @click="${this._updateEntry}" .disabled="${i||this._submitting}"> ${a?this.hass.localize("ui.common.save"):this.hass.localize("ui.common.add")} </mwc-button> </ha-dialog> `}},{kind:"method",key:"_isNameValid",value:function(){return""!==this._name.trim()}},{kind:"method",key:"_nameChanged",value:function(a){this._error=void 0,this._name=a.target.value}},{kind:"method",key:"_floorChanged",value:function(a){this._error=void 0,this._floor=a.detail.value}},{kind:"method",key:"_iconChanged",value:function(a){this._error=void 0,this._icon=a.detail.value}},{kind:"method",key:"_labelsChanged",value:function(a){this._error=void 0,this._labels=a.detail.value}},{kind:"method",key:"_pictureChanged",value:function(a){this._error=void 0,this._picture=a.target.value}},{kind:"method",key:"_updateEntry",value:async function(){const a=!this._params.entry;this._submitting=!0;try{const i={name:this._name.trim(),picture:this._picture||(a?void 0:null),icon:this._icon||(a?void 0:null),floor_id:this._floor||(a?void 0:null),labels:this._labels||null,aliases:this._aliases};a?await this._params.createEntry(i):await this._params.updateEntry(i),this.closeDialog()}catch(a){this._error=a.message||this.hass.localize("ui.panel.config.areas.editor.unknown_error")}finally{this._submitting=!1}}},{kind:"method",key:"_aliasesChanged",value:function(a){this._aliases=a.detail.value}},{kind:"get",static:!0,key:"styles",value:function(){return[u.nA,o.AH`ha-floor-picker,ha-icon-picker,ha-labels-picker,ha-picture-upload,ha-textfield{display:block;margin-bottom:16px}`]}}]}}),o.WF);customElements.define("dialog-area-registry-detail",m),s()}catch(a){s(a)}}))}};
//# sourceMappingURL=4960.XMTed441f1c.js.map